const products = [
  { id: 1, name: "product1", price: 10.99 },
  { id: 2, name: "product2", price: 9.99 },
  { id: 3, name: "product3", price: 12.99 },
  { id: 4, name: "product4", price: 8.99 },
  { id: 5, name: "product5", price: 11.99 },
  { id: 6, name: "product6", price: 21.99 },
];
products.forEach((e) => {
  let t = document.createElement("div");
  t.classList.add("bg-white", "p-4", "rounded-lg", "shadow-md"),
    (t.innerHTML = `
      <h3 class="text-xl font-semibold">${e.name}</h3>
      <p class="text-gray-700">$${e.price.toFixed(2)}</p>
      <button class="mt-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600"
        onclick="addToCart(${e.id})">
        Add to Cart
      </button>
    `),
    document.getElementById("product-list").appendChild(t);
});
let cart = [];
const addToCart = (e) => {
    let t = products.find((t) => t.id === e);
    t && (cart.push(t), productsInCart());
  },
  productsInCart = () => {
    let e = document.getElementById("cart-items");
    (e.innerHTML = ""),
      cart.forEach((t, r) => {
        let c = document.createElement("li");
        (c.className = "flex justify-between items-center py-2"),
          (c.innerHTML = `
          <span>${t.name}</span>
          <span>$${t.price.toFixed(2)}</span>
          <button onclick="removeFromCart(${r})" class="text-red-500 hover:text-red-700">
            Remove
          </button>
        `),
          e.appendChild(c);
      }),
      sumOfPrice();
  },
  sumOfPrice = () => {
    let e = cart.reduce((e, t) => e + t.price, 0);
    document.getElementById("total-price").innerText = `Total: $${e.toFixed(
      2
    )}`;
  },
  removeFromCart = (e) => {
    cart.splice(e, 1), productsInCart();
  };
document.getElementById("checkout-btn").addEventListener("click", () => {
  alert(
    `Thank you for your purchase! Total: $${cart
      .reduce((e, t) => e + t.price, 0)
      .toFixed(2)}`
  ),
    (cart.length = 0),
    productsInCart();
});
