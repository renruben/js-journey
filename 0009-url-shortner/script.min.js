const urlForm = document.getElementById("urlForm"),
  resultDisplay = document.getElementById("result"),
  shortUrlTextValue = document.getElementById("shortUrl");
urlForm.addEventListener("submit", async (e) => {
  e.preventDefault();
  let t = document.getElementById("longUrl").value.trim();
  if (!t) {
    alert("Please enter a URL");
    return;
  }
  try {
    let r = await fetch(
      `https://tinyurl.com/api-create.php?url=${encodeURIComponent(t)}`
    );
    if (!r.ok) throw Error("Failed to shorten URL!");
    let l = await r.text();
    resultDisplay.classList.remove("hidden"), (shortUrlTextValue.value = l);
  } catch (o) {
    alert("Error: " + o.message);
  }
});
const copyToClipboard = () => {
  shortUrlTextValue.select(), document.execCommand("copy");
  let e = document.querySelector(".copyUrlBtn");
  (e.textContent = "!Copied"),
    setTimeout(() => {
      e.textContent = "Copy";
    }, 2e3);
};
