const videoLinkInput = document.getElementById("videoLinkInput"),
  addVideoButton = document.getElementById("addVideoButton");
videoLinkInput.addEventListener("keydown", (e) => {
  "Enter" === e.key && (copyVideoLink(), videoDisplay());
}),
  addVideoButton.addEventListener("click", () => {
    copyVideoLink(), videoDisplay();
  });
const extractVideoID = (e) => {
  let d =
      /(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,
    i = e.match(d);
  return console.log(i[1]), i ? i[1] : null;
};
let videoIdList = [];
const copyVideoLink = () => {
    let e = videoLinkInput.value.trim(),
      d = extractVideoID(e);
    if (d) {
      let i = `https://www.youtube.com/embed/${d}`;
      videoIdList.push(i), (videoLinkInput.value = "");
    } else alert("Please enter a valid YouTube URL.");
  },
  videoDisplay = () => {
    let e = document.getElementById("videoGrid");
    (e.innerHTML = ""),
      videoIdList.forEach((d) => {
        let i = document.createElement("div");
        (i.className = "bg-gray-800 rounded-lg overflow-hidden"),
          (i.innerHTML = `
      <iframe
        src="${d}"
        class="w-full h-48 rounded-lg"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
      ></iframe>
      <div class="p-4">
        <h3 class="font-bold text-gray-200">Video Title</h3>
        <p class="text-sm text-gray-400">YouTube Video</p>
      </div>
    `),
          e.appendChild(i);
      });
  },
  sidebarToggle = document.getElementById("sidebarToggle"),
  sidebar = document.getElementById("sidebar");
sidebarToggle && sidebar
  ? sidebarToggle.addEventListener("click", () => {
      sidebar.classList.toggle("hidden");
    })
  : console.error("Sidebar or sidebarToggle element not found.");
