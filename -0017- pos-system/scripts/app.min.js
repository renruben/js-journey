const products = [
  { id: 1, name: "Product A", price: 10, image: "assets/images/product-a.jpg" },
  { id: 2, name: "Product B", price: 15, image: "assets/images/product-b.jpg" },
  { id: 3, name: "Product C", price: 20, image: "assets/images/product-c.jpg" },
  { id: 4, name: "Product D", price: 25, image: "assets/images/product-d.jpg" },
];
let cart = [];
const productsContainer = document.querySelector("#products .grid");
products.forEach((t) => {
  let e = document.createElement("div");
  e.classList.add("border", "p-4", "rounded", "bg-white", "shadow"),
    (e.innerHTML = `
      <img src="${t.image}" alt="${
      t.name
    }" class="w-full h-32 object-cover rounded mb-2">
      <h3 class="text-lg font-bold">${t.name}</h3>
      <p class="text-sm text-gray-600">$${t.price.toFixed(2)}</p>
      <button class="mt-2 w-full bg-blue-500 text-white py-1 rounded" onclick="addToCart(${
        t.id
      })">
        Add to Cart
      </button>
    `),
    productsContainer.appendChild(e);
});
const addToCart = (t) => {
  let e = products.find((e) => e.id === t),
    a = cart.some((e) => e.id === t);
  e && !a && (cart.push(e), updateCart());
};
let totalCost;
function updateCart() {
  let t = document.getElementById("cart-items");
  (t.innerHTML = ""),
    (totalCost = 0),
    cart.forEach((e) => {
      let a = document.createElement("li");
      a.classList.add("flex", "justify-between", "items-center"),
        (a.innerHTML = `
        <span>${e.name}</span>
        <span>$${e.price.toFixed(2)}</span>
        <button class="text-red-500" onclick="removeFromCart(${
          e.id
        })">Remove</button>
      `),
        (totalCost += e.price),
        t.appendChild(a);
    }),
    (document.getElementById("total-price").textContent = totalCost.toFixed(2));
}
const removeFromCart = (t) => {
    (cart = cart.filter((e) => e.id !== t)), updateCart();
  },
  checkout = () => {
    totalCost && alert("Your purchase is successful!"), refreshPage();
  },
  refreshPage = () => {
    window.location.reload();
  };
