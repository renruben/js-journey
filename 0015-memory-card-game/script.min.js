const cardImages = [
    "\uD83C\uDF4E",
    "\uD83C\uDF4C",
    "\uD83C\uDF52",
    "\uD83C\uDF47",
    "\uD83C\uDF49",
    "\uD83C\uDF4D",
    "\uD83E\uDD5D",
    "\uD83C\uDF51",
  ],
  cardImagesArr = [...cardImages, ...cardImages],
  shuffle = (e) => {
    for (let t = 0; t < e.length; t++) {
      let a = Math.floor(Math.random() * (t + 1));
      [e[t], e[a]] = [e[a], e[t]];
    }
    return e;
  },
  shuffledCards = shuffle(cardImagesArr);
shuffledCards.forEach((e) => {
  let t = document.getElementById("game-board"),
    a = document.createElement("div");
  a.classList.add(
    "card",
    "bg-gray-700",
    "w-24",
    "h-24",
    "rounded-md",
    "flex",
    "items-center",
    "justify-center",
    "text-3xl",
    "cursor-pointer",
    "select-none",
    "transform",
    "transition-transform"
  ),
    (a.textContent = "❓"),
    (a.dataset.cardValue = e),
    t.appendChild(a),
    a.addEventListener("click", () => flipCard(a));
});
let flippedCards = [];
const flipCard = (e) => {
    2 === flippedCards.length ||
      flippedCards.includes(e) ||
      (flippedCards.push(e),
      e.classList.add("bg-green-500", "scale-110"),
      (e.textContent = e.dataset.cardValue),
      2 === flippedCards.length && setTimeout(() => checkMatch(), 500));
  },
  checkMatch = () => {
    let [e, t] = flippedCards;
    e.dataset.cardValue === t.dataset.cardValue
      ? ((e.textContent = "✔️"),
        (t.textContent = "✔️"),
        e.classList.add(
          "bg-gradient-to-r",
          "from-blue-400",
          "to-purple-500",
          "text-white",
          "shadow-lg"
        ),
        t.classList.add(
          "bg-gradient-to-r",
          "from-blue-400",
          "to-purple-500",
          "text-white",
          "shadow-lg"
        ),
        (flippedCards = []))
      : setTimeout(() => {
          e.classList.remove("bg-green-500", "scale-110"),
            t.classList.remove("bg-green-500", "scale-110"),
            (e.textContent = "❓"),
            (t.textContent = "❓"),
            (flippedCards = []);
        }, 500);
  };
