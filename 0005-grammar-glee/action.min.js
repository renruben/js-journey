let totalQ = 10;
const prevButton = document.getElementById("prev-btn"),
  nextButton = document.getElementById("next-btn");
let qIndex = 0;
const ques = document.getElementsByClassName("question"),
  quesArr = Array.from(ques);
quesArr.forEach((e, t) => {
  e.style.display = 0 === t ? "flex" : "none";
});
const progress = document.getElementsByClassName("prog-crc"),
  progArr = Array.from(progress);
progArr.forEach((e, t) => {
  e.style.backgroundColor = 0 === t ? "#9cd89d" : "#e0e0e0";
}),
  prevButton.addEventListener("click", () => {
    qIndex > 0 &&
      ((quesArr[qIndex].style.display = "none"),
      (quesArr[(qIndex -= 1)].style.display = "flex"),
      progArr.forEach((e, t) => {
        t <= qIndex
          ? ((e.style.color = "#ffffff"), (e.style.backgroundColor = "#9cd89d"))
          : ((e.style.color = ""), (e.style.backgroundColor = ""));
      }),
      qIndex < quesArr.length - 1 && (submitBtn.style.display = "none"));
  }),
  nextButton.addEventListener("click", () => {
    qIndex < quesArr.length - 1 &&
      ((quesArr[qIndex].style.display = "none"),
      (quesArr[(qIndex += 1)].style.display = "flex"),
      progArr.forEach((e, t) => {
        t <= qIndex
          ? ((e.style.color = "#ffffff"), (e.style.backgroundColor = "#9cd89d"))
          : ((e.style.color = ""), (e.style.backgroundColor = ""));
      }),
      qIndex === quesArr.length - 1 && (submitBtn.style.display = "block"));
  });
let score = 0;
const submitBtn = document.getElementById("submit-btn"),
  restartBtn = document.getElementById("restart-btn");
submitBtn.addEventListener("click", () => {
  score = 0;
  for (let e = 1; e <= totalQ; e++) {
    let t = document.querySelector(`input[name="Q-${e}-ans-opt"]:checked`);
    t && "true" === t.value && (score += 1);
  }
  displayScore();
});
const displayScore = () => {
  quesArr.forEach((e) => (e.style.display = "none")),
    (document.querySelector("#btn-container").style.display = "none"),
    (document.querySelector(".progress-bar").style.display = "none"),
    (document.querySelector(".result-score").style.display = "block"),
    (document.getElementById(
      "score"
    ).innerHTML = `Your Score: ${score} out of 10!`),
    (restartBtn.style.display = "block");
};
restartBtn.addEventListener("click", () => {
  location.reload();
});
